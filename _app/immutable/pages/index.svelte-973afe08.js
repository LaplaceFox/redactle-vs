import{S as Ee,i as Te,s as Se,e as P,t as q,c as j,a as C,h as z,d as y,b as A,K as $,g as J,J as m,j as x,n as he,l as ce,p as B,q as te,r as W,L as ne,k as F,m as U,M as je,N as fe,O as Ce,P as ee,Q as Ge,o as le,R as Re,x as Ae,y as Ie,z as Le,C as Ne}from"../chunks/index-87fdb8f6.js";function We(r){let e,n=(r[3]?"\u2580".repeat(r[1].length):r[1])+"",t,o;return{c(){e=P("span"),t=q(n),this.h()},l(l){e=j(l,"SPAN",{id:!0,class:!0});var h=C(e);t=z(h,n),h.forEach(y),this.h()},h(){A(e,"id",r[0]),A(e,"class",o=$(r[2]?"highlight":"")+" svelte-hxjeev")},m(l,h){J(l,e,h),m(e,t)},p(l,[h]){h&10&&n!==(n=(l[3]?"\u2580".repeat(l[1].length):l[1])+"")&&x(t,n),h&1&&A(e,"id",l[0]),h&4&&o!==(o=$(l[2]?"highlight":"")+" svelte-hxjeev")&&A(e,"class",o)},i:he,o:he,d(l){l&&y(e)}}}function Me(r,e,n){let{id:t}=e,{value:o=""}=e,{highlight:l=!1}=e,{redacted:h=!1}=e;return r.$$set=i=>{"id"in i&&n(0,t=i.id),"value"in i&&n(1,o=i.value),"highlight"in i&&n(2,l=i.highlight),"redacted"in i&&n(3,h=i.redacted)},[t,o,l,h]}class Oe extends Ee{constructor(e){super(),Te(this,e,Me,We,Se,{id:0,value:1,highlight:2,redacted:3})}}var qe=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},Pe={exports:{}};(function(r){(function(e){if(typeof n!="function"){var n=function(g){return g};n.nonNative=!0}const t=n("plaintext"),o=n("html"),l=n("comment"),h=/<(\w*)>/g,i=/<\/?([^\s\/>]+)/;function a(g,_,L){g=g||"",_=_||[],L=L||"";let R=b(_,L);return S(g,R)}function s(g,_){g=g||[],_=_||"";let L=b(g,_);return function(I){return S(I||"",L)}}a.init_streaming_mode=s;function b(g,_){return g=O(g),{allowable_tags:g,tag_replacement:_,state:t,tag_buffer:"",depth:0,in_quote_char:""}}function S(g,_){if(typeof g!="string")throw new TypeError("'html' parameter must be a string");let L=_.allowable_tags,R=_.tag_replacement,I=_.state,w=_.tag_buffer,V=_.depth,N=_.in_quote_char,M="";for(let H=0,p=g.length;H<p;H++){let c=g[H];if(I===t)switch(c){case"<":I=o,w+=c;break;default:M+=c;break}else if(I===o)switch(c){case"<":if(N)break;V++;break;case">":if(N)break;if(V){V--;break}N="",I=t,w+=">",L.has(v(w))?M+=w:M+=R,w="";break;case'"':case"'":c===N?N="":N=N||c,w+=c;break;case"-":w==="<!-"&&(I=l),w+=c;break;case" ":case`
`:if(w==="<"){I=t,M+="< ",w="";break}w+=c;break;default:w+=c;break}else if(I===l)switch(c){case">":w.slice(-2)=="--"&&(I=t),w="";break;default:w+=c;break}}return _.state=I,_.tag_buffer=w,_.depth=V,_.in_quote_char=N,M}function O(g){let _=new Set;if(typeof g=="string"){let L;for(;L=h.exec(g);)_.add(L[1])}else!n.nonNative&&typeof g[n.iterator]=="function"?_=new Set(g):typeof g.forEach=="function"&&g.forEach(_.add,_);return _}function v(g){let _=i.exec(g);return _?_[1].toLowerCase():null}r.exports?r.exports=a:e.striptags=a})(qe)})(Pe);var ze=Pe.exports;function ue(r,e,n){const t=r.slice();return t[25]=e[n],t[27]=n,t}function de(r,e,n){const t=r.slice();return t[28]=e[n],t}function ge(r,e,n){const t=r.slice();return t[31]=e[n],t}function _e(r,e,n){const t=r.slice();return t[31]=e[n],t}function pe(r){let e,n;return{c(){e=P("p"),n=q("loading..."),this.h()},l(t){e=j(t,"P",{class:!0});var o=C(e);n=z(o,"loading..."),o.forEach(y),this.h()},h(){A(e,"class","svelte-hye7wm")},m(t,o){J(t,e,o),m(e,n)},d(t){t&&y(e)}}}function me(r){let e,n,t=Object.keys(r[0]).length+"",o,l;return{c(){e=P("p"),n=q("Solved in "),o=q(t),l=q(" guesses!"),this.h()},l(h){e=j(h,"P",{class:!0});var i=C(e);n=z(i,"Solved in "),o=z(i,t),l=z(i," guesses!"),i.forEach(y),this.h()},h(){A(e,"class","svelte-hye7wm")},m(h,i){J(h,e,i),m(e,n),m(e,o),m(e,l)},p(h,i){i[0]&1&&t!==(t=Object.keys(h[0]).length+"")&&x(o,t)},d(h){h&&y(e)}}}function De(r){let e,n,t,o=r[28].tokens,l=[];for(let i=0;i<o.length;i+=1)l[i]=ve(ge(r,o,i));const h=i=>B(l[i],1,1,()=>{l[i]=null});return{c(){e=P("p");for(let i=0;i<l.length;i+=1)l[i].c();n=F(),this.h()},l(i){e=j(i,"P",{class:!0});var a=C(e);for(let s=0;s<l.length;s+=1)l[s].l(a);n=U(a),a.forEach(y),this.h()},h(){A(e,"class","svelte-hye7wm")},m(i,a){J(i,e,a);for(let s=0;s<l.length;s+=1)l[s].m(e,null);m(e,n),t=!0},p(i,a){if(a[0]&4){o=i[28].tokens;let s;for(s=0;s<o.length;s+=1){const b=ge(i,o,s);l[s]?(l[s].p(b,a),W(l[s],1)):(l[s]=ve(b),l[s].c(),W(l[s],1),l[s].m(e,n))}for(le(),s=o.length;s<l.length;s+=1)h(s);te()}},i(i){if(!t){for(let a=0;a<o.length;a+=1)W(l[a]);t=!0}},o(i){l=l.filter(Boolean);for(let a=0;a<l.length;a+=1)B(l[a]);t=!1},d(i){i&&y(e),ee(l,i)}}}function Ve(r){let e,n,t,o=r[28].tokens,l=[];for(let i=0;i<o.length;i+=1)l[i]=we(_e(r,o,i));const h=i=>B(l[i],1,1,()=>{l[i]=null});return{c(){e=P("h2");for(let i=0;i<l.length;i+=1)l[i].c();n=F(),this.h()},l(i){e=j(i,"H2",{class:!0});var a=C(e);for(let s=0;s<l.length;s+=1)l[s].l(a);n=U(a),a.forEach(y),this.h()},h(){A(e,"class","svelte-hye7wm")},m(i,a){J(i,e,a);for(let s=0;s<l.length;s+=1)l[s].m(e,null);m(e,n),t=!0},p(i,a){if(a[0]&4){o=i[28].tokens;let s;for(s=0;s<o.length;s+=1){const b=_e(i,o,s);l[s]?(l[s].p(b,a),W(l[s],1)):(l[s]=we(b),l[s].c(),W(l[s],1),l[s].m(e,n))}for(le(),s=o.length;s<l.length;s+=1)h(s);te()}},i(i){if(!t){for(let a=0;a<o.length;a+=1)W(l[a]);t=!0}},o(i){l=l.filter(Boolean);for(let a=0;a<l.length;a+=1)B(l[a]);t=!1},d(i){i&&y(e),ee(l,i)}}}function ve(r){let e,n;return e=new Oe({props:{id:r[31].id,value:r[31].value,redacted:r[31].redacted,highlight:r[31].highlight||!1}}),{c(){Ae(e.$$.fragment)},l(t){Ie(e.$$.fragment,t)},m(t,o){Le(e,t,o),n=!0},p(t,o){const l={};o[0]&4&&(l.id=t[31].id),o[0]&4&&(l.value=t[31].value),o[0]&4&&(l.redacted=t[31].redacted),o[0]&4&&(l.highlight=t[31].highlight||!1),e.$set(l)},i(t){n||(W(e.$$.fragment,t),n=!0)},o(t){B(e.$$.fragment,t),n=!1},d(t){Ne(e,t)}}}function we(r){let e,n;return e=new Oe({props:{id:r[31].id,value:r[31].value,redacted:r[31].redacted,highlight:r[31].highlight||!1}}),{c(){Ae(e.$$.fragment)},l(t){Ie(e.$$.fragment,t)},m(t,o){Le(e,t,o),n=!0},p(t,o){const l={};o[0]&4&&(l.id=t[31].id),o[0]&4&&(l.value=t[31].value),o[0]&4&&(l.redacted=t[31].redacted),o[0]&4&&(l.highlight=t[31].highlight||!1),e.$set(l)},i(t){n||(W(e.$$.fragment,t),n=!0)},o(t){B(e.$$.fragment,t),n=!1},d(t){Ne(e,t)}}}function be(r){let e,n,t,o;const l=[Ve,De],h=[];function i(a,s){return a[28].headline?0:1}return e=i(r),n=h[e]=l[e](r),{c(){n.c(),t=ce()},l(a){n.l(a),t=ce()},m(a,s){h[e].m(a,s),J(a,t,s),o=!0},p(a,s){let b=e;e=i(a),e===b?h[e].p(a,s):(le(),B(h[b],1,1,()=>{h[b]=null}),te(),n=h[e],n?n.p(a,s):(n=h[e]=l[e](a),n.c()),W(n,1),n.m(t.parentNode,t))},i(a){o||(W(n),o=!0)},o(a){B(n),o=!1},d(a){h[e].d(a),a&&y(t)}}}function ke(r){let e,n,t=r[25]+"",o,l,h=r[0][r[25]]+"",i,a,s,b,S;return{c(){e=P("span"),n=P("b"),o=q(t),l=q(" ("),i=q(h),a=q(")"),this.h()},l(O){e=j(O,"SPAN",{class:!0});var v=C(e);n=j(v,"B",{});var g=C(n);o=z(g,t),g.forEach(y),l=z(v," ("),i=z(v,h),a=z(v,")"),v.forEach(y),this.h()},h(){A(e,"class",s=$(r[4]==r[25]?"highlight word":"word")+" svelte-hye7wm")},m(O,v){J(O,e,v),m(e,n),m(n,o),m(e,l),m(e,i),m(e,a),b||(S=ne(e,"click",function(){Re(r[6](r[25]))&&r[6](r[25]).apply(this,arguments)}),b=!0)},p(O,v){r=O,v[0]&1&&t!==(t=r[25]+"")&&x(o,t),v[0]&1&&h!==(h=r[0][r[25]]+"")&&x(i,h),v[0]&17&&s!==(s=$(r[4]==r[25]?"highlight word":"word")+" svelte-hye7wm")&&A(e,"class",s)},d(O){O&&y(e),b=!1,S()}}}function Be(r){let e,n,t,o,l,h,i,a,s,b,S,O,v,g,_,L,R,I,w,V,N,M,H,p,c=r[5]&&pe(),k=r[1]&&me(r),T=r[2],d=[];for(let f=0;f<T.length;f+=1)d[f]=be(de(r,T,f));const K=f=>B(d[f],1,1,()=>{d[f]=null});let D=Object.keys(r[0]).reverse(),G=[];for(let f=0;f<D.length;f+=1)G[f]=ke(ue(r,D,f));return{c(){e=P("div"),n=P("nav"),t=P("h1"),o=q("Redactle"),l=F(),h=P("p"),i=q(`A puzzle game to guess the title of a random Wikipedia article by revealing the words from the article. 
			Similar to redactle.com but without the daily game limit.`),a=F(),s=P("div"),c&&c.c(),b=F(),k&&k.c(),S=F();for(let f=0;f<d.length;f+=1)d[f].c();O=F(),v=P("div"),g=P("h3"),_=q("Guesses"),L=F(),R=P("div"),I=P("form"),w=P("input"),V=F(),N=P("guess-list");for(let f=0;f<G.length;f+=1)G[f].c();this.h()},l(f){e=j(f,"DIV",{id:!0,class:!0});var E=C(e);n=j(E,"NAV",{class:!0});var u=C(n);t=j(u,"H1",{class:!0});var X=C(t);o=z(X,"Redactle"),X.forEach(y),l=U(u),h=j(u,"P",{class:!0});var se=C(h);i=z(se,`A puzzle game to guess the title of a random Wikipedia article by revealing the words from the article. 
			Similar to redactle.com but without the daily game limit.`),se.forEach(y),u.forEach(y),a=U(E),s=j(E,"DIV",{id:!0,class:!0});var Z=C(s);c&&c.l(Z),b=U(Z),k&&k.l(Z),S=U(Z);for(let Q=0;Q<d.length;Q+=1)d[Q].l(Z);Z.forEach(y),O=U(E),v=j(E,"DIV",{id:!0,class:!0});var Y=C(v);g=j(Y,"H3",{});var ie=C(g);_=z(ie,"Guesses"),ie.forEach(y),L=U(Y),R=j(Y,"DIV",{id:!0});var re=C(R);I=j(re,"FORM",{});var oe=C(I);w=j(oe,"INPUT",{placeholder:!0}),oe.forEach(y),re.forEach(y),V=U(Y),N=j(Y,"GUESS-LIST",{class:!0});var ae=C(N);for(let Q=0;Q<G.length;Q+=1)G[Q].l(ae);ae.forEach(y),Y.forEach(y),E.forEach(y),this.h()},h(){A(t,"class","svelte-hye7wm"),A(h,"class","info svelte-hye7wm"),A(n,"class","svelte-hye7wm"),A(s,"id","article"),A(s,"class","svelte-hye7wm"),A(w,"placeholder","guess a word..."),A(R,"id","guess-form"),je(N,"class","svelte-hye7wm"),A(v,"id","guesses"),A(v,"class","svelte-hye7wm"),A(e,"id","main"),A(e,"class","svelte-hye7wm")},m(f,E){J(f,e,E),m(e,n),m(n,t),m(t,o),m(n,l),m(n,h),m(h,i),m(e,a),m(e,s),c&&c.m(s,null),m(s,b),k&&k.m(s,null),m(s,S);for(let u=0;u<d.length;u+=1)d[u].m(s,null);m(e,O),m(e,v),m(v,g),m(g,_),m(v,L),m(v,R),m(R,I),m(I,w),fe(w,r[3]),m(v,V),m(v,N);for(let u=0;u<G.length;u+=1)G[u].m(N,null);M=!0,H||(p=[ne(w,"input",r[8]),ne(I,"submit",Ce(r[7]))],H=!0)},p(f,E){if(f[5]?c||(c=pe(),c.c(),c.m(s,b)):c&&(c.d(1),c=null),f[1]?k?k.p(f,E):(k=me(f),k.c(),k.m(s,S)):k&&(k.d(1),k=null),E[0]&4){T=f[2];let u;for(u=0;u<T.length;u+=1){const X=de(f,T,u);d[u]?(d[u].p(X,E),W(d[u],1)):(d[u]=be(X),d[u].c(),W(d[u],1),d[u].m(s,null))}for(le(),u=T.length;u<d.length;u+=1)K(u);te()}if(E[0]&8&&w.value!==f[3]&&fe(w,f[3]),E[0]&81){D=Object.keys(f[0]).reverse();let u;for(u=0;u<D.length;u+=1){const X=ue(f,D,u);G[u]?G[u].p(X,E):(G[u]=ke(X),G[u].c(),G[u].m(N,null))}for(;u<G.length;u+=1)G[u].d(1);G.length=D.length}},i(f){if(!M){for(let E=0;E<T.length;E+=1)W(d[E]);M=!0}},o(f){d=d.filter(Boolean);for(let E=0;E<d.length;E+=1)B(d[E]);M=!1},d(f){f&&y(e),c&&c.d(),k&&k.d(),ee(d,f),ee(G,f),H=!1,Ge(p)}}}let He=/(([^\u0000-\u007F]|\w)+)((\W)*)/ig;function ye(r,e){return`${Fe(r).replaceAll("=","a")}${e}`}function Fe(r){let e=encodeURIComponent(r).replace(/%([a-f0-9]{2})/gi,(n,t)=>String.fromCharCode(parseInt(t,16)));return btoa(e)}function Ue(r,e,n){let t="",o=[],l={},h=!1;const i=["i","me","my","myself","we","our","ours","ourselves","you","you're","you've","you'll","you'd","your","yours","yourself","yourselves","he","him","his","himself","she","she's","her","hers","herself","it","it's","its","itself","they","them","their","theirs","themselves","what","which","who","whom","this","that","that'll","these","those","am","is","are","was","were","be","been","being","have","has","had","having","do","does","did","doing","a","an","the","and","but","if","or","because","as","until","while","of","at","by","for","with","about","against","between","into","through","during","before","after","above","below","to","from","up","down","in","out","on","off","over","under","again","further","then","once","here","there","when","where","why","how","all","any","both","each","few","more","most","other","some","such","no","nor","not","only","own","same","so","than","too","very","s","t","can","will","just","don","don't","should","should've","now","d","ll","m","o","re","ve","y","ain","aren","aren't","couldn","couldn't","didn","didn't","doesn","doesn't","hadn","hadn't","hasn","hasn't","haven","haven't","isn","isn't","ma","mightn","mightn't","mustn","mustn't","needn","needn't","shan","shan't","shouldn","shouldn't","wasn","wasn't","weren","weren't","won","won't","wouldn","wouldn't"];let a={};i.filter(p=>p.length<8).forEach(p=>a[p]=1);let s=[],b="",S="",O=0,v={},g=!0;function _(){const p=["Hydrogen","Archery","Galaxy","Fern","Lion","Glacier","Watt"],c=Math.floor(Math.random()*p.length);let k=p[c];fetch(`https://en.wikipedia.org/api/rest_v1/page/mobile-sections/${k}`).then(T=>T.json()).then(T=>{T.lead.displaytitle;let d=T.lead.sections[0].text,K=L(d);t+=L(d),o.push({text:K,headline:T.lead.displaytitle});let D=0;for(;t.length<15e3&&D<T.remaining.sections.length;)d=T.remaining.sections[D].text,K=L(d),t+=L(d),o.push({text:K,headline:T.remaining.sections[D].line}),D++;R()})}function L(p){let c=p.replace(/<style.*>.*<\/style>/ig,"");return c=ze(c),c=c.replace(/&nbsp;/g," ").replace(/&(?:amp);/g,"&").replace(/&(?:lt);/g,"<").replace(/&(?:gt);/g,">").replace(/&(?:quot);/g,'"').replace(/&(?:#39);/g,"'"),c=c.replace(/\[\d+\]/ig,""),c}_();function R(){console.log("rendering..."),n(2,s=[]),v={};for(const p in o)w(o[p].headline,!0),p==0&&n(1,h=I()),w(o[p].text,!1);n(5,g=!1)}function I(){let p=!0;for(const c in s[0].tokens)s[0].tokens[c].redacted&&(p=!1);return p}function w(p,c){let k=[...p.matchAll(He)],T=V(k);s.push({headline:c,tokens:T})}function V(p){let c=[];for(const k in p){let T=p[k][1];if(T){let d=T.toLowerCase();v[d]=d in v?v[d]+1:1;let K={value:T,wordLower:d,id:ye(d,v[d]),redacted:!h&&d.length>2&&!a.hasOwnProperty(d)&&!l.hasOwnProperty(d),highlight:d==S};c.push(K)}p[k][3]&&c.push({value:p[k][3]})}return c}function N(p){O=S==p?O+1:1,n(4,S=p);const c=ye(S,O);let k=document.getElementById(c);console.log(`scroll to ${c}`),k&&k.scrollIntoView(),R()}function M(){n(4,S=b.toLowerCase()),O=1,N(S),S=="togglecheats"&&n(1,h=!h);let p=new RegExp(`\\b${S}\\b`,"gi"),c=(t.match(p)||[]).length;n(0,l[S]=c,l),n(3,b=""),R()}function H(){b=this.value,n(3,b)}return[l,h,s,b,S,g,N,M,H]}class Je extends Ee{constructor(e){super(),Te(this,e,Ue,Be,Se,{},null,[-1,-1])}}export{Je as default};
